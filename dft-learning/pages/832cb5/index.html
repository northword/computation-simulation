<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.0" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.6" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <script type="text/javascript">var _hmt = _hmt || []</script><script src="https://hm.baidu.com/hm.js?5574297d56b065f5137cf3654e3de360"></script><script src="https://hm.baidu.com/hm.js?92a8f6d9fbb75efa90964afcd42be758"></script><meta property="og:url" content="https://northword.cn/dft-learning/pages/832cb5/"><meta property="og:site_name" content="北辞"><meta property="og:title" content="PBS"><meta property="og:description" content="PBS 作业一般会提交到超算集群上进行计算。在集群上，一般不能随意地直接以 mpirun 运行我们的并行计算程序，而必须通过其上提供的作业管理系统来提交计算任务。集群作业管理系统可以根据用户的需求，统一管理和调度集群的软硬件资源，保证用户作业公平合理地共享集群资源，提高系统利用率和吞吐率。 PBS 就是其中一种解决方案，作业通过 PBS 命令提交到 PBS 队列中，然后经由 PBS 分配资源运行。 PBS 命令 提交作业 用以下命令提交作业： qsub [options] &lt;control script&gt;"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2022-11-14T03:12:12.000Z"><meta property="article:author" content="Northword"><meta property="article:published_time" content="2020-10-31T18:00:00.000Z"><meta property="article:modified_time" content="2022-11-14T03:12:12.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"PBS","image":[""],"datePublished":"2020-10-31T18:00:00.000Z","dateModified":"2022-11-14T03:12:12.000Z","author":[{"@type":"Person","name":"Northword","url":"https://northword.cn"}]}</script><title>PBS | 北辞</title><meta name="description" content="PBS 作业一般会提交到超算集群上进行计算。在集群上，一般不能随意地直接以 mpirun 运行我们的并行计算程序，而必须通过其上提供的作业管理系统来提交计算任务。集群作业管理系统可以根据用户的需求，统一管理和调度集群的软硬件资源，保证用户作业公平合理地共享集群资源，提高系统利用率和吞吐率。 PBS 就是其中一种解决方案，作业通过 PBS 命令提交到 PBS 队列中，然后经由 PBS 分配资源运行。 PBS 命令 提交作业 用以下命令提交作业： qsub [options] &lt;control script&gt;">
    <link rel="preload" href="/assets/style-z8vkDmO5.css" as="style"><link rel="stylesheet" href="/assets/style-z8vkDmO5.css">
    <link rel="modulepreload" href="/assets/app-1ZTmwhuN.js"><link rel="modulepreload" href="/assets/index.html--5e5Ww4o.js"><link rel="modulepreload" href="/assets/index.html-zjXIkJEK.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-x3n3nnut.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/"><img class="vp-nav-logo" src="/assets/img/logo.png" aria-hidden><!----><span class="vp-site-name hide-in-pad">北辞</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="首页" class="vp-link nav-link nav-link" href="/"><span class="font-icon icon iconfont icon-home" style=""></span>首页<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="维基"><span class="title"><span class="font-icon icon iconfont icon-read" style=""></span>维基</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a aria-label="理论计算" class="vp-link nav-link active nav-link active" href="/dft-learning/"><span class="font-icon icon iconfont icon-shell" style=""></span>理论计算<!----></a></li><li class="dropdown-item"><a aria-label="材料表征" class="vp-link nav-link nav-link" href="/characterization/"><span class="font-icon icon iconfont icon-relation" style=""></span>材料表征<!----></a></li><li class="dropdown-item"><a aria-label="代码笔记" class="vp-link nav-link nav-link" href="/code/"><span class="font-icon icon iconfont icon-code" style=""></span>代码笔记<!----></a></li><li class="dropdown-item"><a aria-label="软件使用" class="vp-link nav-link nav-link" href="/software/"><span class="font-icon icon iconfont icon-more" style=""></span>软件使用<!----></a></li><li class="dropdown-item"><a href="https://zotero-cn.github.io/zotero/" rel="noopener noreferrer" target="_blank" aria-label="Zotero 使用手册" class="nav-link"><span class="font-icon icon iconfont icon-study" style=""></span>Zotero 使用手册<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a aria-label="博客" class="vp-link nav-link nav-link" href="/blog/"><span class="font-icon icon iconfont icon-blog" style=""></span>博客<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="归档" class="vp-link nav-link nav-link" href="/timeline/"><span class="font-icon icon iconfont icon-time" style=""></span>归档<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="工具"><span class="title"><span class="font-icon icon iconfont icon-tool" style=""></span>工具</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://northword.github.io/sub-web/" rel="noopener noreferrer" target="_blank" aria-label="订阅转换工具" class="nav-link"><span class="font-icon icon iconfont icon-anonymous" style=""></span>订阅转换工具<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="https://aria2.northword.cn" rel="noopener noreferrer" target="_blank" aria-label="Aria 2 WebUI" class="nav-link"><span class="font-icon icon iconfont icon-install" style=""></span>Aria 2 WebUI<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/northword/wiki" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">搜索</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">理论知识</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">软件安装</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable active" type="button"><!----><span class="vp-sidebar-title">Linux 基础</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><!--[--><a aria-label="Linux 基础" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/dft-learning/pages/linux/"><!---->Linux 基础<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="PBS" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/dft-learning/pages/832cb5/"><!---->PBS<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="PBS 命令" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#pbs-命令"><!---->PBS 命令<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="提交作业" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#提交作业"><!---->提交作业<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="查看任务" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#查看任务"><!---->查看任务<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="qstat 的选项" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#qstat-的选项"><!---->qstat 的选项<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="取消任务" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#取消任务"><!---->取消任务<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="停止正在运行的任务" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#停止正在运行的任务"><!---->停止正在运行的任务<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="checkjob" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#checkjob"><!---->checkjob<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="pbsnodes" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#pbsnodes"><!---->pbsnodes<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="PBS 脚本" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#pbs-脚本"><!---->PBS 脚本<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="PBS 作业属性" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#pbs-作业属性"><!---->PBS 作业属性<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="资源列表" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#资源列表"><!---->资源列表<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="PBS 常用环境变量" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#pbs-常用环境变量"><!---->PBS 常用环境变量<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="高级配置" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#高级配置"><!---->高级配置<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Qmgr 查看所有配置" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#qmgr-查看所有配置"><!---->Qmgr 查看所有配置<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="普通用户查询他人作业" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#普通用户查询他人作业"><!---->普通用户查询他人作业<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="解除堆栈大小限制" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/dft-learning/pages/832cb5/#解除堆栈大小限制"><!---->解除堆栈大小限制<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">Materials Studio</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><a aria-label="VASP" class="vp-link nav-link vp-sidebar-title nav-link vp-sidebar-title" href="/dft-learning/pages/df30ef/"><!---->VASP<!----></a><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-heading clickable" type="button"><!----><span class="vp-sidebar-title">故障排除</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->PBS</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://northword.cn" target="_blank" rel="noopener noreferrer">Northword</a></span><span property="author" content="Northword"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2020-10-31T18:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 8 分钟</span><meta property="timeRequired" content="PT8M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category0 clickable" role="navigation">Linux</span><!--]--><meta property="articleSection" content="Linux"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#pbs-命令">PBS 命令</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#提交作业">提交作业</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#查看任务">查看任务</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#qstat-的选项">qstat 的选项</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#取消任务">取消任务</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#停止正在运行的任务">停止正在运行的任务</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#checkjob">checkjob</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#pbsnodes">pbsnodes</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#pbs-脚本">PBS 脚本</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#pbs-作业属性">PBS 作业属性</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#资源列表">资源列表</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#pbs-常用环境变量">PBS 常用环境变量</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="#高级配置">高级配置</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#qmgr-查看所有配置">Qmgr 查看所有配置</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#普通用户查询他人作业">普通用户查询他人作业</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="#解除堆栈大小限制">解除堆栈大小限制</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><h1 id="pbs" tabindex="-1"><a class="header-anchor" href="#pbs" aria-hidden="true">#</a> PBS</h1><p>作业一般会提交到超算集群上进行计算。在集群上，一般不能随意地直接以 mpirun 运行我们的并行计算程序，而必须通过其上提供的作业管理系统来提交计算任务。集群作业管理系统可以根据用户的需求，统一管理和调度集群的软硬件资源，保证用户作业公平合理地共享集群资源，提高系统利用率和吞吐率。</p><p>PBS 就是其中一种解决方案，作业通过 PBS 命令提交到 PBS 队列中，然后经由 PBS 分配资源运行。</p><h2 id="pbs-命令" tabindex="-1"><a class="header-anchor" href="#pbs-命令" aria-hidden="true">#</a> PBS 命令</h2><h3 id="提交作业" tabindex="-1"><a class="header-anchor" href="#提交作业" aria-hidden="true">#</a> 提交作业</h3><p>用以下命令提交作业：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qsub <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token operator">&lt;</span>control script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>命令执行后会返回一个作业 ID。如：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>zjb@op back<span class="token punctuation">]</span>$ qsub <span class="token parameter variable">-N</span> thisIsName vasp.pbs
<span class="token number">201848</span>.inode202
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>作业提交后一般会先排队等待，PBS 系统会根据作业的优先级和可用的计算资源来调度和执行作业。</p><p>其中 <code>-N thisIsName</code> 为选项，它指定了作业的名称。<code>vasp.pbs</code> 为 PBS 脚本，它设定了作业的属性和作业的内容。<code>options</code> 与 <code>control script</code> 详见 PBS 脚本。</p><blockquote><p>文档中，命令带有 `` 符号的，表示是在 shell 终端输入的命令，实际输入的时候不需要带有这个符号。</p></blockquote><h3 id="查看任务" tabindex="-1"><a class="header-anchor" href="#查看任务" aria-hidden="true">#</a> 查看任务</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qstat <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token operator">&lt;</span>jobid<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>zjb@op back<span class="token punctuation">]</span>$ qstat
Job ID                    Name             User            Time Use S Queue
------------------------- ---------------- --------------- -------- - -----
<span class="token number">201848</span>.inode202            thisIsName       zjb             00:00:00 C energy         
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中，<code>S</code> 表示任务的状态，有如下几种状态：</p><table><thead><tr><th>状态 (S)</th><th>描述</th></tr></thead><tbody><tr><td>B</td><td>只用于任务向量，表示任务向量已经开始执行</td></tr><tr><td>E</td><td>任务在运行后退出</td></tr><tr><td>H</td><td>任务被服务器或用户或者管理员阻塞</td></tr><tr><td><strong>Q</strong></td><td><strong>任务正在排队中，等待被调度运行</strong></td></tr><tr><td><strong>R</strong></td><td><strong>任务正在运行</strong></td></tr><tr><td><strong>C</strong></td><td><strong>任务完成</strong></td></tr><tr><td>S</td><td>任务被服务器挂起，由于一个更高优先级的任务需要当前任务的资源</td></tr><tr><td>T</td><td>任务被转移到其它执行节点了</td></tr><tr><td>U</td><td>由于服务器繁忙，任务被挂起</td></tr><tr><td>W</td><td>任务在等待它所请求的执行时间的到来 (qsub -a)</td></tr><tr><td>X</td><td>只用于子任务，表示子任务完成</td></tr></tbody></table><h3 id="qstat-的选项" tabindex="-1"><a class="header-anchor" href="#qstat-的选项" aria-hidden="true">#</a> qstat 的选项</h3><table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td>qstat -q</td><td>列出所有队列</td></tr><tr><td>qstat -a</td><td>列出所有作业</td></tr><tr><td>qstat -u user_id</td><td>列出 user_id 的所有作业</td></tr><tr><td>qstat -r</td><td>列出所有正在运行的作业</td></tr><tr><td>qstat -f job_id</td><td>列出作业 job_id 的信息</td></tr><tr><td>qstat -fQ queue</td><td>列出队列 queue 的信息</td></tr><tr><td>qstat -B</td><td>列出所有作业状态的汇总</td></tr><tr><td>pbsnodes</td><td>列出所有节点的详细信息</td></tr><tr><td>pestat</td><td>列出所有节点的状态</td></tr></tbody></table><h3 id="取消任务" tabindex="-1"><a class="header-anchor" href="#取消任务" aria-hidden="true">#</a> 取消任务</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qdel <span class="token operator">&lt;</span>jobid<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="停止正在运行的任务" tabindex="-1"><a class="header-anchor" href="#停止正在运行的任务" aria-hidden="true">#</a> 停止正在运行的任务</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qsig <span class="token parameter variable">-s</span> KILL <span class="token operator">&lt;</span>job ID<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="checkjob" tabindex="-1"><a class="header-anchor" href="#checkjob" aria-hidden="true">#</a> checkjob</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>checkjob <span class="token operator">&lt;</span>job id<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>注意这儿的 <code>job id</code> 不包括 <code>.inodexxx</code>，比如上述的 <code>201848.inode202</code> 作业，如果使用 <code>checkjob</code> 查询，命令应为 <code>checkjob 201848</code>。</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>zjb@op testEnergy<span class="token punctuation">]</span>$ checkjob <span class="token number">201848</span>

checking job <span class="token number">201848</span>

State: Running
Creds:  user:zjb  group:energy  account:SugonClus  class:energy  qos:preemptee
WallTime: 00:02:03 of 00:30:00
SubmitTime: Sat Oct <span class="token number">31</span> <span class="token number">19</span>:45:48
  <span class="token punctuation">(</span>Time Queued  Total: 00:00:01  Eligible: 00:00:01<span class="token punctuation">)</span>

StartTime: Sat Oct <span class="token number">31</span> <span class="token number">19</span>:45:49
Total Tasks: <span class="token number">4</span>

Req<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>  TaskCount: <span class="token number">4</span>  Partition: DEFAULT
Network: <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>  Memory <span class="token operator">&gt;=</span> <span class="token number">0</span>  Disk <span class="token operator">&gt;=</span> <span class="token number">0</span>  Swap <span class="token operator">&gt;=</span> <span class="token number">0</span>
Opsys: <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>  Arch: <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>  Features: <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>
Allocated Nodes:
<span class="token punctuation">[</span>inode53:4<span class="token punctuation">]</span>

IWD: <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>  Executable:  <span class="token punctuation">[</span>NONE<span class="token punctuation">]</span>
Bypass: <span class="token number">0</span>  StartCount: <span class="token number">1</span>
PartitionMask: <span class="token punctuation">[</span>ALL<span class="token punctuation">]</span>
Flags:       BACKFILL RESTARTABLE PREEMPTEE
Attr:        PREEMPTEE

Reservation <span class="token string">&#39;201868&#39;</span> <span class="token punctuation">(</span>-00:02:04 -<span class="token operator">&gt;</span> 00:27:56  Duration: 00:30:00<span class="token punctuation">)</span>
PE:  <span class="token number">4.00</span>  StartPriority:  <span class="token number">6000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果任务无法运行，可以这样查询原因。</p><h3 id="pbsnodes" tabindex="-1"><a class="header-anchor" href="#pbsnodes" aria-hidden="true">#</a> pbsnodes</h3><p>查看节点的空闲情况。有 <code>free</code>、<code>busy</code>、<code>down</code> 等状态。</p><h2 id="pbs-脚本" tabindex="-1"><a class="header-anchor" href="#pbs-脚本" aria-hidden="true">#</a> PBS 脚本</h2><p>PBS 脚本实际上是一个 linux shell 脚本，在 PBS 脚本中可以用一种特殊形式的注释（#PBS）作为 PBS 指令以设定作业属性。下面是一个 PBS 脚本示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token comment">#PBS -N Untitled</span>
<span class="token comment">#PBS -l nodes=1:ppn=4</span>
<span class="token comment">#PBS -l walltime=00:10:00</span>
<span class="token comment">#PBS -j oe</span>
<span class="token comment">#PBS -o ./out.log</span>

<span class="token builtin class-name">cd</span> <span class="token variable">${PBS_O_WORKDIR}</span>
<span class="token builtin class-name">source</span> /public/software/profile.d/compiler_intel-composer_xe_2015.2.164.sh
<span class="token builtin class-name">source</span> /public/software/profile.d/mpi_intelmpi-5.0.2.044.sh
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============================================&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Starting VASP run at&quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span> 
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============================================&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# SYSTEM INFO&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&#39;The hostname is &#39;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">hostname</span><span class="token variable">`</span></span>  
<span class="token function">grep</span> <span class="token string">&#39;Linux&#39;</span> /etc/issue 
<span class="token function">grep</span> <span class="token string">&#39;model name&#39;</span> /proc/cpuinfo <span class="token operator">|</span><span class="token function">cut</span> -d: <span class="token parameter variable">-f2</span> <span class="token operator">|</span><span class="token function">uniq</span> <span class="token parameter variable">-c</span>
<span class="token function">grep</span> <span class="token string">&#39;cpu M&#39;</span> /proc/cpuinfo 
<span class="token function">grep</span> <span class="token string">&#39;MemTotal&#39;</span> /proc/meminfo
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============================================&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;# PBS INFO&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The PBS_O_WORKDIR is&quot;</span> <span class="token variable">$PBS_O_WORKDIR</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The PBS_JOBID is&quot;</span> <span class="token variable">$PBS_JOBID</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The PBS_O_QUEUE is&quot;</span> <span class="token variable">$PBS_O_QUEUE</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The PBS_O_HOST is&quot;</span> <span class="token variable">$PBS_O_HOST</span>
<span class="token assign-left variable">NP</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">cat</span> $PBS_NODEFILE <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The num of PBS_NODEFILE is&quot;</span> <span class="token variable">$NP</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;The PBS_NODEFILE IS:&quot;</span> 
<span class="token function">cat</span> <span class="token variable">$PBS_NODEFILE</span>
mpirun <span class="token parameter variable">-np</span> <span class="token variable">$NP</span> <span class="token parameter variable">-machinefile</span> <span class="token variable">$PBS_NODEFILE</span> /public/software//apps/vasp/5.4.1/intelmpi/vasp_std <span class="token operator">&gt;&amp;</span> stdout
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============================================&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;End task at &quot;</span> <span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>  
<span class="token builtin class-name">echo</span> <span class="token string">&quot;=============================================&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pbs-作业属性" tabindex="-1"><a class="header-anchor" href="#pbs-作业属性" aria-hidden="true">#</a> PBS 作业属性</h3><table><thead><tr><th>属性</th><th>取值</th><th>说明</th></tr></thead><tbody><tr><td>-l</td><td>资源列表</td><td>设定作业所需资源，以逗号分隔</td></tr><tr><td>-N</td><td>作业名称</td><td>设定作业的默认名称</td></tr><tr><td>-o</td><td>文件路径</td><td>设定作业的标准输出文件路径</td></tr><tr><td>-e</td><td>文件路径</td><td>设定作业的标准错误文件路径</td></tr><tr><td>-j</td><td>oe 或 eo</td><td>oe: 将标准错误文件与标准输出文件合并成标准输出文件。eo: 将标准错误文件和标准输出文件合并成标准错误文件</td></tr><tr><td>-p</td><td>-1024 到 +1023 之间的整数</td><td>设定作业优先级，越大优先级越高</td></tr><tr><td>-q</td><td>队列名称</td><td>设定作业队列名称</td></tr></tbody></table><h3 id="资源列表" tabindex="-1"><a class="header-anchor" href="#资源列表" aria-hidden="true">#</a> 资源列表</h3><table><thead><tr><th>资源</th><th>取值</th><th>说明</th></tr></thead><tbody><tr><td>nodes</td><td>节点资源构型</td><td>设定作业所需计算节点资源</td></tr><tr><td>walltime</td><td>hh: mm: ss</td><td>设定作业所需的最大 wallclock 时间</td></tr><tr><td>cput</td><td>hh: mm: ss</td><td>设定作业所需的最大 CPU 时间</td></tr><tr><td>mem</td><td>正整数，后面可跟 b，kb，mb，gb</td><td>设定作业所需的最大内存 ncpus 正整数 设定作业所需的 CPU 数目</td></tr></tbody></table><p><strong>指定节点运行：</strong></p><p>有时候某个节点出了问题，但是直接提交仍会被分配到这个节点计算，这时候可以指定一个其他的节点进行提交。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>#PBS -l nodes=c72:ppn=16+c73:ppn=16
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中，<code>c72</code> 和 <code>c73</code> 是节点名，可以通过 <code>pbsnodes</code> 获取到。</p><p>参考：</p><ul><li><a href="https://novarizark.github.io/2015/01/24/e3-80-90-e5-b7-b2-e8-a7-a3-e5-86-b3-e3-80-91pbs-e/" target="_blank" rel="noopener noreferrer">【已解决】pbs指定作业节点 (novarizark.github.io)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="pbs-常用环境变量" tabindex="-1"><a class="header-anchor" href="#pbs-常用环境变量" aria-hidden="true">#</a> PBS 常用环境变量</h3><table><thead><tr><th>环境变量</th><th>说明</th></tr></thead><tbody><tr><td>PBS_ENVIRONMENT</td><td>批处理作业为 PBS_BATCH，交互式作业为 PBS_INTERACTIVE</td></tr><tr><td>PBS_JOBID PBS</td><td>系统给作业分配的标识号</td></tr><tr><td>PBS_JOBNAME</td><td>用户指定的作业名称</td></tr><tr><td>PBS_NODEFILE</td><td>包含作业所用计算节点的文件名</td></tr><tr><td>PBS_QUEUE</td><td>作业所执行的队列名称</td></tr><tr><td>PBS_O_HOME</td><td>执行 qsub 命令的 HOME 环境变量值</td></tr><tr><td>PBS_O_PATH</td><td>执行 qsub 命令的 PATH 环境变量值</td></tr><tr><td>PBS_O_SHELL</td><td>执行 qsub 命令的 SHELL 环境变量值</td></tr><tr><td>PBS_O_HOST</td><td>执行 qsub 命令节点名称</td></tr><tr><td>PBS_O_QUEUE</td><td>提交的作业的最初队列名称</td></tr><tr><td>PBS_O_WORKDIR</td><td>执行 qsub 命令所在的绝对路径</td></tr></tbody></table><h2 id="高级配置" tabindex="-1"><a class="header-anchor" href="#高级配置" aria-hidden="true">#</a> 高级配置</h2><h3 id="qmgr-查看所有配置" tabindex="-1"><a class="header-anchor" href="#qmgr-查看所有配置" aria-hidden="true">#</a> Qmgr 查看所有配置</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> qmgr <span class="token parameter variable">-c</span> <span class="token string">&quot;p s&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>example:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># qmgr</span>
Max <span class="token function">open</span> servers: <span class="token number">49</span>
Qmgr: p s
<span class="token comment">#</span>
<span class="token comment"># Create queues and set their attributes.</span>
<span class="token comment">#</span>
<span class="token comment">#</span>
<span class="token comment"># Create and define queue batch</span>
<span class="token comment">#</span>
create queue batch
<span class="token builtin class-name">set</span> queue batch queue_type <span class="token operator">=</span> Execution
<span class="token builtin class-name">set</span> queue batch acl_host_enable <span class="token operator">=</span> False
<span class="token builtin class-name">set</span> queue batch acl_hosts <span class="token operator">=</span> compute-0-3.local+compute-0-4.local+compute-0-5.local+compute-0-6.local+compute-0-7.local+compute-0-8.local+compute-0-9.local+compute-0-10.local+compute-0-11.local
<span class="token builtin class-name">set</span> queue batch resources_default.walltime <span class="token operator">=</span> <span class="token number">7200</span>:00:00
<span class="token builtin class-name">set</span> queue batch enabled <span class="token operator">=</span> True
<span class="token builtin class-name">set</span> queue batch started <span class="token operator">=</span> True
<span class="token comment">#</span>
<span class="token comment"># Create and define queue gpu</span>
<span class="token comment">#</span>
create queue gpu
<span class="token builtin class-name">set</span> queue gpu queue_type <span class="token operator">=</span> Execution
<span class="token builtin class-name">set</span> queue gpu acl_host_enable <span class="token operator">=</span> False
<span class="token builtin class-name">set</span> queue gpu acl_hosts <span class="token operator">=</span> compute-0-2.local
<span class="token builtin class-name">set</span> queue gpu resources_default.walltime <span class="token operator">=</span> <span class="token number">720</span>:00:00
<span class="token builtin class-name">set</span> queue gpu enabled <span class="token operator">=</span> True
<span class="token builtin class-name">set</span> queue gpu started <span class="token operator">=</span> True
<span class="token comment">#</span>
<span class="token comment"># Set server attributes.</span>
<span class="token comment">#</span>
<span class="token builtin class-name">set</span> server scheduling <span class="token operator">=</span> True
<span class="token builtin class-name">set</span> server default_queue <span class="token operator">=</span> batch
<span class="token builtin class-name">set</span> server query_other_jobs <span class="token operator">=</span> True
<span class="token builtin class-name">set</span> server default_chunk.ncpus <span class="token operator">=</span> <span class="token number">1</span>
<span class="token builtin class-name">set</span> server scheduler_iteration <span class="token operator">=</span> <span class="token number">600</span>
<span class="token builtin class-name">set</span> server resv_enable <span class="token operator">=</span> True
<span class="token builtin class-name">set</span> server node_fail_requeue <span class="token operator">=</span> <span class="token number">310</span>
<span class="token builtin class-name">set</span> server max_array_size <span class="token operator">=</span> <span class="token number">10000</span>
<span class="token builtin class-name">set</span> server pbs_license_min <span class="token operator">=</span> <span class="token number">0</span>
<span class="token builtin class-name">set</span> server pbs_license_max <span class="token operator">=</span> <span class="token number">2147483647</span>
<span class="token builtin class-name">set</span> server pbs_license_linger_time <span class="token operator">=</span> <span class="token number">31536000</span>
<span class="token builtin class-name">set</span> server eligible_time_enable <span class="token operator">=</span> False
<span class="token builtin class-name">set</span> server max_concurrent_provision <span class="token operator">=</span> <span class="token number">5</span>
<span class="token builtin class-name">set</span> server max_job_sequence_id <span class="token operator">=</span> <span class="token number">9999999</span>
Qmgr: 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="普通用户查询他人作业" tabindex="-1"><a class="header-anchor" href="#普通用户查询他人作业" aria-hidden="true">#</a> 普通用户查询他人作业</h3><p>配置使普通用户可以查看其他用户提交的作业（但不能操作）：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qmgr: <span class="token builtin class-name">set</span> server query_other_jobs <span class="token operator">=</span> True
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>示例：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>scujh_zjb@scu ~<span class="token punctuation">]</span>$ qstat                  <span class="token comment"># 仅能查看自己的任务，查看不到别人的任务</span>
<span class="token punctuation">[</span>scujh_zjb@scu ~<span class="token punctuation">]</span>$ <span class="token function">su</span>
Password: 
<span class="token punctuation">[</span>root@scu /home/scujh_zjb<span class="token punctuation">]</span><span class="token comment"># qmgr</span>
Max <span class="token function">open</span> servers: <span class="token number">49</span>
Qmgr: <span class="token builtin class-name">set</span> server query_other_jobs <span class="token operator">=</span> True
Qmgr: <span class="token builtin class-name">exit</span>
<span class="token punctuation">[</span>root@scu /home/scujh_zjb<span class="token punctuation">]</span><span class="token comment"># exit</span>
<span class="token builtin class-name">exit</span>
<span class="token punctuation">[</span>scujh_zjb@scu ~<span class="token punctuation">]</span>$ qstat

scu: 
                                                            Req<span class="token string">&#39;d  Req&#39;</span>d   Elap
Job ID          Username Queue    Jobname    SessID NDS TSK Memory Time  S Time
--------------- -------- -------- ---------- ------ --- --- ------ ----- - -----
<span class="token number">19</span>.scu          scudt_du gpu      vasp-test-   <span class="token number">1753</span>   <span class="token number">1</span>  <span class="token number">12</span>    --  <span class="token number">720</span>:0 R <span class="token number">69</span>:24
<span class="token number">190</span>.scu         cdu_lsh  batch    <span class="token number">4</span>-CeO2      <span class="token number">10325</span>   <span class="token number">1</span>  <span class="token number">24</span>    --  <span class="token number">72</span>:00 R <span class="token number">18</span>:13
<span class="token number">203</span>.scu         cdu_hg   gpu      <span class="token number">8</span>-OHqy       <span class="token number">8101</span>   <span class="token number">1</span>   <span class="token number">8</span>    --  <span class="token number">24</span>:00 R 00:40
<span class="token number">214</span>.scu         cdu_lsh  batch    2CeO2Ni       --    <span class="token number">1</span>  <span class="token number">24</span>    --  <span class="token number">72</span>:00 Q   -- 
<span class="token punctuation">[</span>scujh_zjb@scu ~<span class="token punctuation">]</span>$ 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参考：</p><ul><li><a href="https://community.openpbs.org/t/pbs-command-to-see-other-users-job-from-user-environment/745" target="_blank" rel="noopener noreferrer">PBS command to see other users job from user environment - Users/Site Administrators - OpenPBS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h3 id="解除堆栈大小限制" tabindex="-1"><a class="header-anchor" href="#解除堆栈大小限制" aria-hidden="true">#</a> 解除堆栈大小限制</h3><p>UPDATE in 2022.11.14：该方法未解决该问题。</p><p>用于解决 [分段错误：<code>forrtl: severe (174): SIGSEGV, segmentation fault occurred</code>](../05. VASP/08.%E5%85%B6%E4%BB%96/error. md #forrtl :%20severe%20 (174):%20SIGSEGV,%20segmentation%20fault%20occurred)，为每一个计算节点解除堆栈大小限制。</p><p>在每一个计算节点上，修改 <code>$PBS_EXEC/lib/init.d/limits.pbs_mom</code>（该文件会在运行前被 <code>source</code>）在里面添加 <code>ulimit -s unlimited</code>，然后重启 PBS 服务。</p><p>具体步骤如下：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">## 依次登录每一个计算节点</span>
<span class="token function">ssh</span> compute-0-11 

<span class="token comment">## 编辑 limits.pbs_mom 文件</span>
<span class="token builtin class-name">cd</span> /opt/pbs/lib/init.d/ <span class="token operator">&amp;&amp;</span> <span class="token function">cp</span> limits.pbs_mom limits.pbs_mom.bak <span class="token operator">&amp;&amp;</span> <span class="token function">vi</span> limits.pbs_mom

<span class="token comment">## 原文件内容：</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-f</span> /etc/sgi-release <span class="token parameter variable">-o</span> <span class="token parameter variable">-f</span> /etc/sgi-compute-node-release <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>
    <span class="token assign-left variable">MEMLOCKLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-l</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">NOFILESLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">STACKLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-s</span><span class="token variable">`</span></span>
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-l</span> unlimited
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span> <span class="token number">16384</span>
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-s</span> unlimited
<span class="token keyword">fi</span>

<span class="token comment">## 修改后内容</span>
    <span class="token assign-left variable">MEMLOCKLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-l</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">NOFILESLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span><span class="token variable">`</span></span>
    <span class="token assign-left variable">STACKLIM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-s</span><span class="token variable">`</span></span>
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-l</span> unlimited
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-n</span> <span class="token number">16384</span>
    <span class="token builtin class-name">ulimit</span> <span class="token parameter variable">-s</span> unlimited

<span class="token comment">## 重启 pbs</span>
systemctl restart pbs <span class="token operator">&amp;&amp;</span> systemctl status pbs  <span class="token comment"># 或执行 /etc/init.d/pbs restart</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>日志备份以便理解：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@scu /home/scujh_zjb/test<span class="token punctuation">]</span><span class="token comment"># ssh compute-0-11</span>
Warning: untrusted X11 forwarding setup failed: xauth key data not generated
Last login: Thu Nov <span class="token number">10</span> 03:11:13 <span class="token number">2022</span> from scu
Rocks Compute Node
Rocks <span class="token number">7.0</span> <span class="token punctuation">(</span>Manzanita<span class="token punctuation">)</span>
Profile built <span class="token number">21</span>:21 <span class="token number">20</span>-Oct-2022

Kickstarted <span class="token number">21</span>:27 <span class="token number">20</span>-Oct-2022
<span class="token punctuation">[</span>root@compute-0-11 ~<span class="token punctuation">]</span><span class="token comment"># cd /opt/pbs/lib/init.d/ </span>
<span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
limits.pbs_mom         limits.post_services         sgigenvnodelist.awk
limits.pbs_mom.compat  limits.post_services.compat  sgiICEvnode.sh
<span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># cd /opt/pbs/lib/init.d/ &amp;&amp; cp limits.pbs_mom limits.pbs_mom.bak &amp;&amp; ls</span>
limits.pbs_mom      limits.pbs_mom.compat  limits.post_services.compat  sgiICEvnode.sh
limits.pbs_mom.bak  limits.post_services   sgigenvnodelist.awk
<span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># vi limits.pbs_mom</span>
<span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># systemctl restart pbs &amp;&amp; systemctl status pbs</span>
● pbs.service - Portable Batch System
   Loaded: loaded <span class="token punctuation">(</span>/opt/pbs/libexec/pbs_init.d<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: disabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since Fri <span class="token number">2022</span>-11-11 02:50:13 EST<span class="token punctuation">;</span> 10ms ago
     Docs: man:pbs<span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
  Process: <span class="token number">39964</span> <span class="token assign-left variable">ExecStop</span><span class="token operator">=</span>/opt/pbs/libexec/pbs_init.d stop <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
  Process: <span class="token number">40010</span> <span class="token assign-left variable">ExecStart</span><span class="token operator">=</span>/opt/pbs/libexec/pbs_init.d start <span class="token punctuation">(</span>code<span class="token operator">=</span>exited, <span class="token assign-left variable">status</span><span class="token operator">=</span><span class="token number">0</span>/SUCCESS<span class="token punctuation">)</span>
   Memory: <span class="token number">2</span>.6M
   CGroup: /system.slice/pbs.service
           └─40074 /opt/pbs/sbin/pbs_mom

Nov <span class="token number">11</span> 02:50:12 compute-0-11.local systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting Portable Batch System<span class="token punctuation">..</span>.
Nov <span class="token number">11</span> 02:50:12 compute-0-11.local pbs_init.d<span class="token punctuation">[</span><span class="token number">40010</span><span class="token punctuation">]</span>: Starting PBS
Nov <span class="token number">11</span> 02:50:13 compute-0-11.local pbs_init.d<span class="token punctuation">[</span><span class="token number">40010</span><span class="token punctuation">]</span>: PBS mom
Nov <span class="token number">11</span> 02:50:13 compute-0-11.local systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started Portable Batch System.
<span class="token punctuation">[</span>root@compute-0-11 init.d<span class="token punctuation">]</span><span class="token comment"># </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>参考：</p><ul><li><a href="https://community.openpbs.org/t/how-to-set-up-stack-size-to-unlimited-in-pbs-pro/235" target="_blank" rel="noopener noreferrer">How to set up stack-size to unlimited in PBS pro - Users/Site Administrators - OpenPBS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://community.openpbs.org/t/increasing-the-open-files-limit-across-all-nodes/1361" target="_blank" rel="noopener noreferrer">Increasing the open files limit across all nodes - Users/Site Administrators - OpenPBS<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://phoenixnap.com/kb/ulimit-linux-command" target="_blank" rel="noopener noreferrer">How to Use the ulimit Linux Command {With Examples} (phoenixnap.com)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><!--[--><!----><!--]--><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/northword/wiki/edit/main/src/dft-learning/03.Linux/PBS.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: northword@outlook.com">Northword</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="Linux 基础" class="vp-link nav-link prev nav-link prev" href="/dft-learning/pages/linux/"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Linux 基础</div></a><!----></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer"><a href='https://beian.miit.gov.cn/' target='_blank'>晋ICP备18010037号-1</a></div><div class="vp-copyright">Copyright © 2018-Present Northword</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app-1ZTmwhuN.js" defer></script>
  </body>
</html>
